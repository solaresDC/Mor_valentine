<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>ðŸ’• A Question For You</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --bg: #FFF5F7;
  --bg-warm: #FFF0F3;
  --pink-soft: #FFB6C1;
  --pink-mid: #FF85A2;
  --pink-deep: #E8507A;
  --rose: #FF4D6D;
  --coral: #FF6B6B;
  --cream: #FFF8F0;
  --text-dark: #4A2040;
  --text-soft: #8B5E7B;
  --yarn-yes: #FF85A2;
  --yarn-yes-dark: #E8507A;
  --yarn-no: #B8B8D0;
  --yarn-no-dark: #8E8EA8;
  --shadow-soft: 0 4px 20px rgba(232, 80, 122, 0.15);
  --shadow-float: 0 8px 32px rgba(232, 80, 122, 0.2);
}

html, body {
  width: 100%; height: 100%;
  overflow: hidden;
  font-family: 'Quicksand', sans-serif;
  background: var(--bg);
  color: var(--text-dark);
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}

/* ===== FLOATING HEARTS BACKGROUND ===== */
.hearts-bg {
  position: fixed; inset: 0;
  pointer-events: none; z-index: 0;
  overflow: hidden;
}
.hearts-bg .heart {
  position: absolute;
  font-size: 20px;
  opacity: 0.08;
  animation: floatHeart linear infinite;
}
@keyframes floatHeart {
  0% { transform: translateY(110vh) rotate(0deg); opacity: 0; }
  10% { opacity: 0.08; }
  90% { opacity: 0.08; }
  100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
}

/* ===== HOME PAGE ===== */
#homePage {
  position: relative; z-index: 1;
  width: 100%; height: 100%;
  display: flex; flex-direction: column;
  transition: opacity 0.6s ease, transform 0.6s ease;
}
#homePage.hiding {
  opacity: 0;
  transform: scale(0.95);
}

/* -- Top Zone: Cat Area -- */
.cat-zone {
  flex: 0 0 42%;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  position: relative;
  overflow: visible;
}

/* SVG Cat */
.cat-container {
  position: relative;
  width: 200px; height: 200px;
  margin-bottom: -10px;
  z-index: 5;
}
@media (min-width: 768px) {
  .cat-container { width: 260px; height: 260px; }
}

.cat-svg {
  width: 100%; height: 100%;
}

/* Cat breathing */
.cat-body-group {
  transform-origin: center bottom;
  animation: breathe 3s ease-in-out infinite;
}
@keyframes breathe {
  0%, 100% { transform: scaleY(1); }
  50% { transform: scaleY(1.02); }
}

/* Cat eyes blinking */
.cat-eye {
  animation: blink 4s ease-in-out infinite;
}
.cat-eye-left { animation-delay: 0s; }
.cat-eye-right { animation-delay: 0.1s; }
@keyframes blink {
  0%, 42%, 48%, 100% { transform: scaleY(1); }
  45% { transform: scaleY(0.05); }
}

/* Angry face (hidden by default) */
.cat-angry { display: none; }
.cat-container.angry .cat-happy { display: none; }
.cat-container.angry .cat-angry { display: block; }

/* Cat paw (hidden by default) */
.cat-paw {
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%) translateY(20px) scaleY(0);
  transform-origin: top center;
  width: 60px; height: 80px;
  z-index: 100;
  pointer-events: none;
  transition: none;
}
.cat-paw.smash {
  animation: pawSmash 0.45s ease-out forwards;
}
@keyframes pawSmash {
  0% { transform: translateX(-50%) translateY(20px) scaleY(0); opacity: 1; }
  25% { transform: translateX(-50%) translateY(100px) scaleY(1); opacity: 1; }
  35% { transform: translateX(-50%) translateY(200px) scaleY(1.05); opacity: 1; }
  50% { transform: translateX(-50%) translateY(200px) scaleY(1); opacity: 1; }
  70% { transform: translateX(-50%) translateY(100px) scaleY(0.8); opacity: 1; }
  100% { transform: translateX(-50%) translateY(20px) scaleY(0); opacity: 0; }
}

/* Micro bounce */
.cat-container {
  animation: microBounce 5s ease-in-out infinite;
}
@keyframes microBounce {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(3px); }
  75% { transform: translateX(-3px); }
}

/* -- Shelf Divider -- */
.shelf {
  flex: 0 0 auto;
  width: 85%;
  max-width: 400px;
  height: 14px;
  margin: 0 auto;
  background: linear-gradient(135deg, #DEBFA0, #C4A07A);
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(150, 100, 60, 0.25);
  position: relative;
  z-index: 4;
}
.shelf::after {
  content: '';
  position: absolute;
  bottom: -6px; left: 10%; right: 10%;
  height: 6px;
  background: rgba(150, 100, 60, 0.12);
  border-radius: 0 0 8px 8px;
  filter: blur(2px);
}

/* -- Lower Zone: Interaction Area -- */
.interaction-zone {
  flex: 1;
  display: flex; flex-direction: column;
  align-items: center;
  position: relative;
  padding-top: 18px;
}

.question-text {
  font-family: 'Caveat', cursive;
  font-size: clamp(24px, 6vw, 38px);
  font-weight: 700;
  color: var(--pink-deep);
  text-align: center;
  line-height: 1.3;
  padding: 0 20px;
  text-shadow: 0 2px 8px rgba(232, 80, 122, 0.12);
}

/* Button Playground */
.playground {
  flex: 1;
  width: 100%;
  position: relative;
  overflow: hidden;
}

/* ===== YARN BALL BUTTONS ===== */
.yarn-btn {
  position: absolute;
  width: 90px; height: 90px;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Quicksand', sans-serif;
  font-size: 18px;
  font-weight: 700;
  letter-spacing: 1px;
  color: white;
  text-shadow: 0 1px 3px rgba(0,0,0,0.2);
  transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 10;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}
@media (min-width: 768px) {
  .yarn-btn { width: 110px; height: 110px; font-size: 20px; }
}

.yarn-btn::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: 50%;
  background: repeating-conic-gradient(
    from 0deg,
    transparent 0deg 8deg,
    rgba(255,255,255,0.08) 8deg 10deg
  );
  animation: yarnSpin 12s linear infinite;
}
@keyframes yarnSpin { to { transform: rotate(360deg); } }

.yarn-btn::after {
  content: '';
  position: absolute;
  inset: 3px;
  border-radius: 50%;
  border: 2px dashed rgba(255,255,255,0.2);
  pointer-events: none;
}

/* Thread tail */
.yarn-btn .thread {
  position: absolute;
  top: -12px; right: -8px;
  width: 30px; height: 20px;
  pointer-events: none;
}

.yarn-yes {
  background: radial-gradient(circle at 35% 35%, #FFB0C8, var(--yarn-yes) 50%, var(--yarn-yes-dark));
  box-shadow: 0 6px 24px rgba(255, 133, 162, 0.45), inset 0 -4px 8px rgba(0,0,0,0.1);
}
.yarn-yes:hover, .yarn-yes:active {
  box-shadow: 0 8px 32px rgba(255, 133, 162, 0.6), inset 0 -4px 8px rgba(0,0,0,0.1);
}

.yarn-no {
  background: radial-gradient(circle at 35% 35%, #D5D5E8, var(--yarn-no) 50%, var(--yarn-no-dark));
  box-shadow: 0 6px 24px rgba(184, 184, 208, 0.45), inset 0 -4px 8px rgba(0,0,0,0.1);
}

.yarn-btn:active {
  transform: scale(0.92) !important;
}

/* Idle yarn pulse */
.yarn-btn { animation: yarnPulse 2.5s ease-in-out infinite; }
.yarn-no { animation-delay: 0.5s; }
@keyframes yarnPulse {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.06); }
}

/* ===== TRANSITION PAGE (after YES) ===== */
#transitionPage {
  position: fixed; inset: 0;
  z-index: 50;
  background: var(--bg);
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}
#transitionPage.active {
  display: flex;
}

/* Small walking cat */
.walk-cat {
  position: absolute;
  bottom: 38%;
  width: 100px; height: 80px;
  transform: translateX(-150px);
}
.walk-cat.walking {
  animation: catWalkIn 3s ease-out forwards;
}
@keyframes catWalkIn {
  0% { transform: translateX(-150px); }
  100% { transform: translateX(0); left: calc(50% - 50px); }
}

/* Cat legs walking animation */
.walk-cat svg .leg-left {
  transform-origin: top center;
  animation: legWalkL 0.4s ease-in-out infinite alternate;
}
.walk-cat svg .leg-right {
  transform-origin: top center;
  animation: legWalkR 0.4s ease-in-out infinite alternate;
}
@keyframes legWalkL {
  0% { transform: rotate(-15deg); }
  100% { transform: rotate(15deg); }
}
@keyframes legWalkR {
  0% { transform: rotate(15deg); }
  100% { transform: rotate(-15deg); }
}
.walk-cat.stopped svg .leg-left,
.walk-cat.stopped svg .leg-right {
  animation: none;
  transform: rotate(0deg);
}

/* Choking animation */
.walk-cat.choking svg .cat-walk-body {
  animation: choke 0.3s ease-in-out infinite;
}
@keyframes choke {
  0%, 100% { transform: scaleX(1) scaleY(1); }
  50% { transform: scaleX(1.08) scaleY(0.92); }
}

/* Hairball */
.hairball {
  position: absolute;
  bottom: calc(38% - 30px);
  left: 50%;
  transform: translateX(-50%) scale(0);
  width: 50px; height: 45px;
  cursor: pointer;
  z-index: 60;
  transition: transform 0.3s ease;
}
.hairball.visible {
  animation: hairballAppear 0.5s ease-out forwards;
}
.hairball.pumping {
  animation: heartPump 0.8s ease-in-out infinite;
}
@keyframes hairballAppear {
  0% { transform: translateX(-50%) scale(0); }
  60% { transform: translateX(-50%) scale(1.2); }
  100% { transform: translateX(-50%) scale(1); }
}
@keyframes heartPump {
  0%, 100% { transform: translateX(-50%) scale(1); }
  15% { transform: translateX(-50%) scale(1.15); }
  30% { transform: translateX(-50%) scale(1); }
  45% { transform: translateX(-50%) scale(1.1); }
}

.hairball-hint {
  position: absolute;
  bottom: calc(38% - 70px);
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Caveat', cursive;
  font-size: 16px;
  color: var(--text-soft);
  opacity: 0;
  transition: opacity 0.5s ease;
  white-space: nowrap;
}
.hairball-hint.visible {
  animation: fadeInOut 2s ease-in-out infinite;
}
@keyframes fadeInOut {
  0%, 100% { opacity: 0; }
  50% { opacity: 0.7; }
}

/* ===== VALENTINE LETTER POPUP ===== */
.letter-overlay {
  position: fixed; inset: 0;
  z-index: 200;
  background: rgba(74, 32, 64, 0.5);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  opacity: 0;
  transition: opacity 0.5s ease;
}
.letter-overlay.active {
  display: flex;
}
.letter-overlay.show {
  opacity: 1;
}

.letter-card {
  background: var(--cream);
  width: 100%;
  max-width: 420px;
  border-radius: 20px;
  padding: 36px 28px 32px;
  position: relative;
  box-shadow: 0 20px 60px rgba(74, 32, 64, 0.3);
  transform: scale(0.8) translateY(40px);
  transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  border: 2px solid rgba(255, 182, 193, 0.4);
  overflow: hidden;
}
.letter-overlay.show .letter-card {
  transform: scale(1) translateY(0);
}

.letter-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 6px;
  background: linear-gradient(90deg, var(--pink-soft), var(--rose), var(--pink-soft));
}

/* Decorative hearts on letter */
.letter-heart-deco {
  position: absolute;
  font-size: 24px;
  opacity: 0.12;
  pointer-events: none;
}
.letter-heart-deco:nth-child(1) { top: 12px; right: 20px; font-size: 28px; transform: rotate(15deg); }
.letter-heart-deco:nth-child(2) { bottom: 16px; left: 18px; font-size: 20px; transform: rotate(-10deg); }
.letter-heart-deco:nth-child(3) { top: 50%; right: 14px; font-size: 16px; transform: rotate(25deg); }

.letter-title {
  font-family: 'Caveat', cursive;
  font-size: 28px;
  font-weight: 700;
  color: var(--rose);
  text-align: center;
  margin-bottom: 24px;
}

.letter-body {
  font-family: 'Caveat', cursive;
  font-size: 20px;
  line-height: 1.65;
  color: var(--text-dark);
  text-align: center;
}
.letter-body p {
  margin-bottom: 14px;
}
.letter-body .emphasis {
  color: var(--pink-deep);
  font-weight: 600;
  font-size: 22px;
}
.letter-body .sign-off {
  margin-top: 28px;
  font-size: 22px;
  font-weight: 600;
  color: var(--text-soft);
  font-style: italic;
}

/* Confetti burst */
.confetti-container {
  position: fixed; inset: 0;
  pointer-events: none;
  z-index: 250;
}
.confetti-piece {
  position: absolute;
  width: 10px; height: 10px;
  top: -10px;
  animation: confettiFall linear forwards;
}
@keyframes confettiFall {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
}

/* ===== SCREEN SHAKE on NO click ===== */
.shake {
  animation: screenShake 0.3s ease-out;
}
@keyframes screenShake {
  0%, 100% { transform: translate(0); }
  20% { transform: translate(-3px, 2px); }
  40% { transform: translate(3px, -2px); }
  60% { transform: translate(-2px, 1px); }
  80% { transform: translate(2px, -1px); }
}

/* NO click counter */
.no-counter {
  position: absolute;
  top: 8px; right: 12px;
  font-family: 'Caveat', cursive;
  font-size: 14px;
  color: var(--text-soft);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 20;
}
.no-counter.visible { opacity: 0.6; }

</style>
</head>
<body>

<!-- Floating Hearts Background -->
<div class="hearts-bg" id="heartsBg"></div>

<!-- ===== HOME PAGE ===== -->
<div id="homePage">
  <!-- Top: Cat Zone -->
  <div class="cat-zone">
    <div class="cat-container" id="catContainer">
      <!-- Cat Paw (for smash animation) -->
      <svg class="cat-paw" id="catPaw" viewBox="0 0 60 80">
        <g>
          <!-- Paw arm -->
          <rect x="18" y="0" width="24" height="55" rx="12" fill="#F4A460"/>
          <!-- Paw pads -->
          <ellipse cx="30" cy="62" rx="22" ry="18" fill="#F4A460"/>
          <ellipse cx="20" cy="55" rx="7" ry="6" fill="#FFDAB9"/>
          <ellipse cx="40" cy="55" rx="7" ry="6" fill="#FFDAB9"/>
          <ellipse cx="30" cy="68" rx="9" ry="7" fill="#FFDAB9"/>
          <ellipse cx="16" cy="64" rx="5" ry="5" fill="#FFDAB9"/>
          <ellipse cx="44" cy="64" rx="5" ry="5" fill="#FFDAB9"/>
        </g>
      </svg>

      <!-- Main Cat SVG -->
      <svg class="cat-svg" viewBox="0 0 200 200">
        <g class="cat-body-group">
          <!-- Tail -->
          <path d="M 40 160 Q 10 140 20 110 Q 30 90 45 100" stroke="#F4A460" stroke-width="8" fill="none" stroke-linecap="round">
            <animate attributeName="d" dur="3s" repeatCount="indefinite"
              values="M 40 160 Q 10 140 20 110 Q 30 90 45 100;
                      M 40 160 Q 5 135 15 105 Q 25 85 40 95;
                      M 40 160 Q 10 140 20 110 Q 30 90 45 100" />
          </path>
          <!-- Body -->
          <ellipse cx="100" cy="155" rx="55" ry="38" fill="#F4A460"/>
          <ellipse cx="100" cy="155" rx="50" ry="34" fill="#F5B87A"/>
          <!-- Chest fluff -->
          <ellipse cx="100" cy="140" rx="25" ry="18" fill="#FFDAB9" opacity="0.6"/>
          <!-- Head -->
          <circle cx="100" cy="95" r="40" fill="#F4A460"/>
          <circle cx="100" cy="97" r="37" fill="#F5B87A"/>
          <!-- Ears -->
          <polygon points="68,72 58,38 85,62" fill="#F4A460"/>
          <polygon points="72,70 63,44 84,63" fill="#FFB6A0"/>
          <polygon points="132,72 142,38 115,62" fill="#F4A460"/>
          <polygon points="128,70 137,44 116,63" fill="#FFB6A0"/>

          <!-- Happy Face (default) -->
          <g class="cat-happy">
            <!-- Eyes -->
            <g class="cat-eye cat-eye-left" transform-origin="85 90">
              <ellipse cx="85" cy="90" rx="6" ry="7" fill="#4A3728"/>
              <ellipse cx="83" cy="88" rx="2" ry="2.5" fill="white" opacity="0.8"/>
            </g>
            <g class="cat-eye cat-eye-right" transform-origin="115 90">
              <ellipse cx="115" cy="90" rx="6" ry="7" fill="#4A3728"/>
              <ellipse cx="113" cy="88" rx="2" ry="2.5" fill="white" opacity="0.8"/>
            </g>
            <!-- Nose -->
            <polygon points="100,102 96,98 104,98" fill="#FF8C94"/>
            <!-- Mouth -->
            <path d="M 92 106 Q 100 112 108 106" stroke="#4A3728" stroke-width="2" fill="none" stroke-linecap="round"/>
            <!-- Whiskers -->
            <line x1="60" y1="95" x2="82" y2="98" stroke="#D4A06A" stroke-width="1.2" opacity="0.5"/>
            <line x1="58" y1="102" x2="81" y2="102" stroke="#D4A06A" stroke-width="1.2" opacity="0.5"/>
            <line x1="118" y1="98" x2="140" y2="95" stroke="#D4A06A" stroke-width="1.2" opacity="0.5"/>
            <line x1="119" y1="102" x2="142" y2="102" stroke="#D4A06A" stroke-width="1.2" opacity="0.5"/>
            <!-- Blush -->
            <circle cx="75" cy="105" r="8" fill="#FFB6C1" opacity="0.25"/>
            <circle cx="125" cy="105" r="8" fill="#FFB6C1" opacity="0.25"/>
          </g>

          <!-- Angry Face (hidden) -->
          <g class="cat-angry">
            <!-- Angry eyes -->
            <g>
              <line x1="77" y1="83" x2="93" y2="90" stroke="#4A3728" stroke-width="3" stroke-linecap="round"/>
              <ellipse cx="85" cy="92" rx="6" ry="5" fill="#4A3728"/>
              <ellipse cx="83" cy="90" rx="1.5" ry="2" fill="#FF4444" opacity="0.8"/>
            </g>
            <g>
              <line x1="123" y1="83" x2="107" y2="90" stroke="#4A3728" stroke-width="3" stroke-linecap="round"/>
              <ellipse cx="115" cy="92" rx="6" ry="5" fill="#4A3728"/>
              <ellipse cx="117" cy="90" rx="1.5" ry="2" fill="#FF4444" opacity="0.8"/>
            </g>
            <!-- Angry nose -->
            <polygon points="100,102 96,98 104,98" fill="#FF6B6B"/>
            <!-- Angry mouth -->
            <path d="M 90 108 Q 100 102 110 108" stroke="#4A3728" stroke-width="2.5" fill="none" stroke-linecap="round"/>
            <!-- Angry whiskers (spiky) -->
            <line x1="55" y1="90" x2="80" y2="98" stroke="#D4A06A" stroke-width="1.5" opacity="0.7"/>
            <line x1="53" y1="100" x2="79" y2="100" stroke="#D4A06A" stroke-width="1.5" opacity="0.7"/>
            <line x1="120" y1="98" x2="145" y2="90" stroke="#D4A06A" stroke-width="1.5" opacity="0.7"/>
            <line x1="121" y1="100" x2="147" y2="100" stroke="#D4A06A" stroke-width="1.5" opacity="0.7"/>
          </g>

          <!-- Front paws -->
          <ellipse cx="75" cy="178" rx="14" ry="8" fill="#F5B87A"/>
          <ellipse cx="125" cy="178" rx="14" ry="8" fill="#F5B87A"/>
        </g>
      </svg>
    </div>
  </div>

  <!-- Shelf -->
  <div class="shelf"></div>

  <!-- Lower: Interaction Zone -->
  <div class="interaction-zone">
    <p class="question-text">Do you want to be my Valentine? ðŸ’•</p>
    <div class="playground" id="playground">
      <div class="no-counter" id="noCounter"></div>
      <button class="yarn-btn yarn-yes" id="yesBtn">YES</button>
      <button class="yarn-btn yarn-no" id="noBtn">NO</button>
    </div>
  </div>
</div>

<!-- ===== TRANSITION PAGE (Cat walk + hairball) ===== -->
<div id="transitionPage">
  <!-- Walking Cat SVG -->
  <div class="walk-cat" id="walkCat">
    <svg viewBox="0 0 100 80" width="100" height="80">
      <g class="cat-walk-body" transform-origin="50 40">
        <!-- Small cat body -->
        <ellipse cx="50" cy="40" rx="30" ry="18" fill="#F5B87A"/>
        <!-- Head -->
        <circle cx="75" cy="28" r="16" fill="#F5B87A"/>
        <!-- Ears -->
        <polygon points="66,18 62,5 73,14" fill="#F4A460"/>
        <polygon points="84,18 88,5 77,14" fill="#F4A460"/>
        <polygon points="67,17 64,8 72,15" fill="#FFB6A0"/>
        <polygon points="83,17 86,8 78,15" fill="#FFB6A0"/>
        <!-- Eyes -->
        <ellipse cx="71" cy="27" rx="2.5" ry="3" fill="#4A3728"/>
        <ellipse cx="81" cy="27" rx="2.5" ry="3" fill="#4A3728"/>
        <!-- Nose -->
        <polygon points="76,31 74,29 78,29" fill="#FF8C94"/>
        <!-- Mouth -->
        <path d="M 73 33 Q 76 36 79 33" stroke="#4A3728" stroke-width="1" fill="none"/>
        <!-- Tail -->
        <path d="M 20 38 Q 8 25 15 12" stroke="#F4A460" stroke-width="5" fill="none" stroke-linecap="round">
          <animate attributeName="d" dur="0.8s" repeatCount="indefinite"
            values="M 20 38 Q 8 25 15 12; M 20 38 Q 5 20 18 10; M 20 38 Q 8 25 15 12"/>
        </path>
        <!-- Legs -->
        <rect class="leg-left" x="35" y="52" width="6" height="16" rx="3" fill="#F4A460"/>
        <rect class="leg-right" x="58" y="52" width="6" height="16" rx="3" fill="#F4A460"/>
        <rect class="leg-left" x="42" y="52" width="6" height="16" rx="3" fill="#E8A050" opacity="0.8"/>
        <rect class="leg-right" x="52" y="52" width="6" height="16" rx="3" fill="#E8A050" opacity="0.8"/>
      </g>
    </svg>
  </div>

  <!-- Hairball -->
  <div class="hairball" id="hairball" title="Click me!">
    <svg viewBox="0 0 50 45" width="50" height="45">
      <ellipse cx="25" cy="24" rx="22" ry="19" fill="#8B7355"/>
      <ellipse cx="25" cy="24" rx="18" ry="15" fill="#9B8365"/>
      <!-- Hair texture -->
      <path d="M 10 20 Q 15 15 20 20 Q 25 25 30 18 Q 35 12 40 20" stroke="#7A6245" stroke-width="1.5" fill="none" opacity="0.5"/>
      <path d="M 8 28 Q 15 22 22 28 Q 28 34 35 26 Q 40 20 45 28" stroke="#7A6245" stroke-width="1.5" fill="none" opacity="0.4"/>
      <path d="M 15 15 Q 20 10 28 14 Q 34 18 38 14" stroke="#6A5535" stroke-width="1" fill="none" opacity="0.3"/>
      <!-- Paper sticking out -->
      <rect x="18" y="6" width="14" height="10" rx="1" fill="#FFF8F0" transform="rotate(-8, 25, 11)"/>
      <line x1="20" y1="9" x2="30" y2="8" stroke="#DDCCBB" stroke-width="0.5" transform="rotate(-8, 25, 11)"/>
      <line x1="20" y1="12" x2="28" y2="11" stroke="#DDCCBB" stroke-width="0.5" transform="rotate(-8, 25, 11)"/>
      <!-- Small heart on paper -->
      <text x="23" y="12" font-size="5" fill="#FF85A2" transform="rotate(-8, 25, 11)">â™¥</text>
    </svg>
  </div>

  <div class="hairball-hint" id="hairballHint">tap the hairball... ðŸ’•</div>
</div>

<!-- ===== VALENTINE LETTER OVERLAY ===== -->
<div class="letter-overlay" id="letterOverlay">
  <div class="letter-card">
    <span class="letter-heart-deco">ðŸ’•</span>
    <span class="letter-heart-deco">ðŸŒ¸</span>
    <span class="letter-heart-deco">ðŸ’—</span>
    <h2 class="letter-title">You're Invited ðŸ’Œ</h2>
    <div class="letter-body">
      <p class="emphasis">You are invited this Friday to be picked up at the lobby of your house at 4:15 PM</p>
      <p>ðŸŒ¹ <strong>Dressing:</strong> Semiformal</p>
      <p>ðŸ‘€ <strong>Things to bring:</strong> those pretty eyes</p>
      <p>ðŸš« <strong>Things NOT to bring:</strong> complaints</p>
      <p class="sign-off">Sincerely,<br/>Your Valentine ðŸ’•</p>
    </div>
  </div>
</div>

<!-- Confetti container -->
<div class="confetti-container" id="confettiContainer"></div>

<script>
(function() {
  'use strict';

  // ---- Elements ----
  const homePage = document.getElementById('homePage');
  const catContainer = document.getElementById('catContainer');
  const catPaw = document.getElementById('catPaw');
  const playground = document.getElementById('playground');
  const yesBtn = document.getElementById('yesBtn');
  const noBtn = document.getElementById('noBtn');
  const noCounter = document.getElementById('noCounter');

  const transitionPage = document.getElementById('transitionPage');
  const walkCat = document.getElementById('walkCat');
  const hairball = document.getElementById('hairball');
  const hairballHint = document.getElementById('hairballHint');

  const letterOverlay = document.getElementById('letterOverlay');
  const confettiContainer = document.getElementById('confettiContainer');

  let noClickCount = 0;
  let isAnimating = false;

  // ---- Generate floating hearts background ----
  function createHearts() {
    const container = document.getElementById('heartsBg');
    const hearts = ['â™¥', 'â™¡', 'ðŸ’•', 'ðŸ’—', 'ðŸŒ¸'];
    for (let i = 0; i < 15; i++) {
      const h = document.createElement('span');
      h.className = 'heart';
      h.textContent = hearts[Math.floor(Math.random() * hearts.length)];
      h.style.left = Math.random() * 100 + '%';
      h.style.fontSize = (14 + Math.random() * 18) + 'px';
      h.style.animationDuration = (12 + Math.random() * 18) + 's';
      h.style.animationDelay = (Math.random() * 15) + 's';
      container.appendChild(h);
    }
  }
  createHearts();

  // ---- Position buttons centered initially ----
  function initButtons() {
    const rect = playground.getBoundingClientRect();
    const btnSize = yesBtn.offsetWidth || 90;
    const gap = 20;
    const totalW = btnSize * 2 + gap;
    const startX = (rect.width - totalW) / 2;
    const startY = (rect.height - btnSize) / 2;

    yesBtn.style.left = startX + 'px';
    yesBtn.style.top = startY + 'px';
    noBtn.style.left = (startX + btnSize + gap) + 'px';
    noBtn.style.top = startY + 'px';
  }

  // Wait for fonts + layout
  window.addEventListener('load', () => {
    setTimeout(initButtons, 100);
  });
  window.addEventListener('resize', () => {
    if (!isAnimating) initButtons();
  });

  // ---- Random position inside playground ----
  function getRandomPos(btnEl) {
    const rect = playground.getBoundingClientRect();
    const btnSize = btnEl.offsetWidth;
    const pad = 10;
    const x = pad + Math.random() * (rect.width - btnSize - pad * 2);
    const y = pad + Math.random() * (rect.height - btnSize - pad * 2);
    return { x, y };
  }

  // ---- NO Button Click ----
  noBtn.addEventListener('click', function(e) {
    e.preventDefault();
    if (isAnimating) return;
    isAnimating = true;
    noClickCount++;

    // Update counter
    const msgs = [
      '', 'hmm...', 'really?', 'think again!',
      'are you sure??', 'the cat is upset...', 'ðŸ˜¾ðŸ˜¾ðŸ˜¾',
      'last chance!', 'SERIOUSLY?!', 'ðŸ’”ðŸ’”ðŸ’”'
    ];
    noCounter.textContent = msgs[Math.min(noClickCount, msgs.length - 1)];
    if (noClickCount >= 2) noCounter.classList.add('visible');

    // Screen shake
    homePage.classList.add('shake');
    setTimeout(() => homePage.classList.remove('shake'), 300);

    // Cat angry face
    catContainer.classList.add('angry');

    // Paw smash
    catPaw.classList.remove('smash');
    void catPaw.offsetWidth; // force reflow
    catPaw.classList.add('smash');

    // After smash animation, reset cat and move buttons
    setTimeout(() => {
      catContainer.classList.remove('angry');
      catPaw.classList.remove('smash');

      // Move both buttons to random positions
      const yesPos = getRandomPos(yesBtn);
      const noPos = getRandomPos(noBtn);

      yesBtn.style.left = yesPos.x + 'px';
      yesBtn.style.top = yesPos.y + 'px';
      noBtn.style.left = noPos.x + 'px';
      noBtn.style.top = noPos.y + 'px';

      // Make YES bigger over time
      const scale = 1 + noClickCount * 0.08;
      yesBtn.style.transform = `scale(${Math.min(scale, 1.6)})`;

      setTimeout(() => { isAnimating = false; }, 400);
    }, 450);
  });

  // ---- YES Button Click ----
  yesBtn.addEventListener('click', function(e) {
    e.preventDefault();
    if (isAnimating) return;
    isAnimating = true;

    // Fade out home page
    homePage.classList.add('hiding');

    setTimeout(() => {
      homePage.style.display = 'none';
      transitionPage.classList.add('active');

      // Start cat walking
      walkCat.classList.add('walking');

      // After walk, stop and start choking
      setTimeout(() => {
        walkCat.classList.add('stopped');

        setTimeout(() => {
          walkCat.classList.add('choking');

          // After choking, show hairball
          setTimeout(() => {
            walkCat.classList.remove('choking');
            hairball.classList.add('visible');

            setTimeout(() => {
              hairball.classList.add('pumping');
              hairballHint.classList.add('visible');
            }, 600);
          }, 1800);
        }, 600);
      }, 3200);
    }, 700);
  });

  // ---- Hairball Click â†’ Letter ----
  hairball.addEventListener('click', function() {
    hairball.classList.remove('pumping');
    hairball.style.transform = 'translateX(-50%) scale(0)';
    hairballHint.classList.remove('visible');

    // Show letter
    setTimeout(() => {
      letterOverlay.classList.add('active');
      requestAnimationFrame(() => {
        letterOverlay.classList.add('show');
      });

      // Confetti!
      setTimeout(launchConfetti, 300);
    }, 300);
  });

  // ---- Confetti ----
  function launchConfetti() {
    const colors = ['#FF85A2', '#FFB6C1', '#FF4D6D', '#FFDAB9', '#FF6B6B', '#E8507A', '#FFC0CB', '#FFD700'];
    const shapes = ['circle', 'square', 'heart'];

    for (let i = 0; i < 60; i++) {
      const piece = document.createElement('div');
      piece.className = 'confetti-piece';
      const shape = shapes[Math.floor(Math.random() * shapes.length)];
      const color = colors[Math.floor(Math.random() * colors.length)];
      const size = 6 + Math.random() * 10;

      piece.style.left = Math.random() * 100 + '%';
      piece.style.width = size + 'px';
      piece.style.height = size + 'px';
      piece.style.background = color;
      piece.style.animationDuration = (2 + Math.random() * 3) + 's';
      piece.style.animationDelay = (Math.random() * 0.8) + 's';

      if (shape === 'circle') {
        piece.style.borderRadius = '50%';
      } else if (shape === 'heart') {
        piece.style.background = 'none';
        piece.innerHTML = 'â™¥';
        piece.style.color = color;
        piece.style.fontSize = size + 'px';
        piece.style.width = 'auto';
        piece.style.height = 'auto';
      }

      confettiContainer.appendChild(piece);
      setTimeout(() => piece.remove(), 5000);
    }
  }

  // ---- Close letter on outside click ----
  letterOverlay.addEventListener('click', function(e) {
    if (e.target === letterOverlay) {
      // Optional: could close, but let's keep it open for this experience
    }
  });

})();
</script>
</body>
</html>
